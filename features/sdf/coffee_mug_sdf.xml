<!-- SDF Objects -->
<sdf id="baseInner" type="thicken" amount="0.1">
    <sdf type="transform">
        <sdf type="cylinder" height="2" radius="1.5"/>
        <transform>
            <rotate axis="1,0,0" angle="90" />
            <translate x="0" z="1" y="0" />
        </transform>
    </sdf>
</sdf>

<sdf id="baseOuter" type="thicken" amount="0.1">
    <sdf type="transform">
        <sdf type="cylinder" height="2" radius="2"/>
        <transform>
            <rotate axis="1,0,0" angle="90" />
        </transform>
    </sdf>
</sdf>

<sdf id="handle" type="combine" mode="sub" smooth="true" k="0.25">
    <sdf type="transform">
        <sdf type="cylinder" height="1" radius="0.85"/>
        <transform>
            <translate x="2.7" z="0.4" y="0" />
        </transform>
    </sdf>
    <sdf type="thicken" amount="0.11">
        <sdf type="transform">
            <sdf type="cylinder" height="0.25" radius="1.35"/>
            <transform>
                <translate x="2.7" z="0.4" y="0" />
            </transform>
        </sdf>
    </sdf>
</sdf>

<!-- Main Scene -->
<scene id="scene">
    <camera type="perspective">
        <integer name="width" value="1024" />
        <integer name="height" value="1024" />
        <float name="fov" value="39.6" />
        <string name="fovAxis" value="x" />
        <transform>
            <matrix
                value="0.686,0.324,-0.652,7.36,  0.728,-0.305,0.614,-6.93,  -4.01e-09,-0.895,-0.445,4.96,  0,0,0,1" />
        </transform>
    </camera>

    <light type="envmap">
        <texture type="constant" value="1" />
    </light>

    <instance>
        <bsdf type="diffuse">
            <texture name="albedo" type="constant" value="0.75" />
        </bsdf>
        <transform>
            <translate x="-1.25" y="0" z="0" />
        </transform>

        <shape type="sdf" maxSteps="300" minDistance="0.001">
            <!-- Combine -->
            <sdf type="combine" mode="sub" smooth="true" k="0.25">
                <ref id="baseInner"/>
                <sdf type="combine" mode="union" smooth="true" k="0.25">
                    <ref id="baseOuter"/>
                    <ref id="handle"/>
                </sdf>
            </sdf>
        </shape>
    </instance>
    <instance>
        <shape type="rectangle" />
        <bsdf type="diffuse">
            <texture name="albedo" type="checkerboard" scale="120" color0="0.1" color1="0.9" />
        </bsdf>
        <transform>
            <scale value="100" />
            <translate y="1" z="-2.1" />
        </transform>
    </instance>
</scene>
<integrator type="direct">
    <ref id="scene" />
    <image id="coffee_mug_sdf" />
    <sampler type="independent" count="512" />
</integrator>
  